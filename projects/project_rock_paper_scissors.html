<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
      console.log('Hello World');
      
      let humanScore = 0;
      let computerScore = 0;

      function getComputerChoice(){
        const choiceValues = ['rock', 'paper', 'scissors'];
        const rnd = Math.ceil(Math.random()*3)-1;
        return choiceValues[rnd];
      }

      function getHumanChoice() {
        const choiceValues = ['rock', 'paper', 'scissors'];
        const inputChoice = prompt('Value between 1 and 3');
        if(inputChoice>3 || inputChoice<1){
          console.log('Error: Only values between 1 and 3 are valid, I will choose for you.');
          return getComputerChoice();
        }
        return choiceValues[inputChoice-1]
      }

      function playRound(humanChoice,compChoice){
        const choiceValues = ['rock', 'paper', 'scissors'];
        const nrHumanChoice =  choiceValues.indexOf(humanChoice);
        const nrCompChoice =  choiceValues.indexOf(compChoice);
        if(nrHumanChoice === nrCompChoice){
          console.log('Stalemate, but computer wins anyways, because I AM BATMAN!');
          return 1;
        }else if(nrHumanChoice === 0 && nrCompChoice === 1) {
          console.log('Computer wins! Hooman loses!');
          return 1;
        }else if(nrHumanChoice === 1 && nrCompChoice === 0){
          console.log('Hooman wins! Computer loses!');
          return 0;
        }else if(nrHumanChoice === 2 && nrCompChoice === 0) {
          console.log('Computer wins! Hooman loses!');
          return 1;
        }else if(nrHumanChoice === 0 && nrCompChoice === 2){
          console.log('Hooman wins! Computer loses!');
          return 0;
        }else if(nrHumanChoice === 1 && nrCompChoice === 2) {
          console.log('Computer wins! Hooman loses!');
          return 1;
        }else if(nrHumanChoice === 2 && nrCompChoice === 1){
          console.log('Hooman wins! Computer loses!');
          return 0;
        }
      }

      function playGame() {
        let rounds = [];
        for (let index = 0; index < 5; index++) {
          const humanChoice = getHumanChoice();
          console.log('humanChoice ', humanChoice);
          const compChoice = getComputerChoice();
          console.log('compChoice: ', compChoice);
          const result = playRound(humanChoice,compChoice);
          rounds.push(result);
        }
        console.log(`Game result: Computer won ${rounds.reduce((accumulator, currentValue) => accumulator + currentValue)} out of 5 rounds.`)
      }
      playGame();
    </script>
    <title>Rock Paper Scissors Game</title>
  </head>
  <body>
    <div class="content">
      <p>Rock Paper Scissors game in the console.</p>
    </div>
  </body>
</html>
